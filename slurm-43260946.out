2022-03-26T17:26:34 (asr.sh:252:main) ./asr.sh --skip_data_prep false --skip_train false --skip_eval false --lang en --ngpu 2 --nj 32 --inference_nj 32 --nbpe 5000 --max_wav_duration 30 --speed_perturb_factors 0.9 1.0 1.1 --audio_format flac.ark --feats_type raw --use_lm false --asr_tag conformer_lr2e-3_warmup15k_amp_nondeterministic --asr_config conf/train_asr.yaml --inference_config conf/decode_asr.yaml --train_set train_clean_100 --valid_set dev --test_sets test_clean test_other dev_clean  --lm_train_text data/train_clean_100/text --bpe_train_text data/train_clean_100/text --stage 11 --stop_stage 11
2022-03-26T17:26:35 (asr.sh:891:main) Stage 6-8: Skip lm-related stages: use_lm=false
2022-03-26T17:26:35 (asr.sh:1013:main) Stage 11: ASR Training: train_set=dump/raw/train_clean_100_sp, valid_set=dump/raw/dev
2022-03-26T17:26:35 (asr.sh:1080:main) Generate 'exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/run.sh'. You can resume the process from stage 11 using this script
2022-03-26T17:26:35 (asr.sh:1084:main) ASR training started... log: 'exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log'
2022-03-26 17:26:35,335 (launch:95) INFO: /home3/yuhang001/w2021/anaconda/envs/final_esp/bin/python3 /home3/yuhang001/espnet/espnet2/bin/launch.py --cmd './slurm.pl --mem 8G --quiet --exclude=node0[3-9] --name exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log' --log exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log --ngpu 2 --num_nodes 1 --init_file_prefix exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/.dist_init_ --multiprocessing_distributed true -- python3 -m espnet2.bin.asr_train --use_preprocessor true --bpemodel data/en_token_list/bpe_unigram5000/bpe.model --token_type bpe --token_list data/en_token_list/bpe_unigram5000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev/wav.scp,speech,kaldi_ark --valid_data_path_and_name_and_type dump/raw/dev/text,text,text --valid_shape_file exp/asr_stats_raw_en_bpe5000_sp/valid/speech_shape --valid_shape_file exp/asr_stats_raw_en_bpe5000_sp/valid/text_shape.bpe --resume true --init_param --ignore_init_mismatch false --fold_length 80000 --fold_length 150 --output_dir exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic --config conf/train_asr.yaml --frontend_conf fs=16k --normalize=global_mvn --normalize_conf stats_file=exp/asr_stats_raw_en_bpe5000_sp/train/feats_stats.npz --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/wav.scp,speech,kaldi_ark --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text,text,text --train_shape_file exp/asr_stats_raw_en_bpe5000_sp/train/speech_shape --train_shape_file exp/asr_stats_raw_en_bpe5000_sp/train/text_shape.bpe
2022-03-26 17:26:35,461 (launch:238) INFO: single-node with 2gpu on distributed mode
2022-03-26 17:26:35,465 (launch:349) INFO: log file: exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log
salloc: unrecognized option '--name'
Try "salloc --help" for more information
slurm.pl: job failed, log is in exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log
Command '['./slurm.pl', '--mem', '8G', '--quiet', '--exclude=node0[3-9]', '--name', 'exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log', '--gpu', '2', 'exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log', 'python3', '-m', 'espnet2.bin.asr_train', '--use_preprocessor', 'true', '--bpemodel', 'data/en_token_list/bpe_unigram5000/bpe.model', '--token_type', 'bpe', '--token_list', 'data/en_token_list/bpe_unigram5000/tokens.txt', '--non_linguistic_symbols', 'none', '--cleaner', 'none', '--g2p', 'none', '--valid_data_path_and_name_and_type', 'dump/raw/dev/wav.scp,speech,kaldi_ark', '--valid_data_path_and_name_and_type', 'dump/raw/dev/text,text,text', '--valid_shape_file', 'exp/asr_stats_raw_en_bpe5000_sp/valid/speech_shape', '--valid_shape_file', 'exp/asr_stats_raw_en_bpe5000_sp/valid/text_shape.bpe', '--resume', 'true', '--init_param', '--ignore_init_mismatch', 'false', '--fold_length', '80000', '--fold_length', '150', '--output_dir', 'exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic', '--config', 'conf/train_asr.yaml', '--frontend_conf', 'fs=16k', '--normalize=global_mvn', '--normalize_conf', 'stats_file=exp/asr_stats_raw_en_bpe5000_sp/train/feats_stats.npz', '--train_data_path_and_name_and_type', 'dump/raw/train_clean_100_sp/wav.scp,speech,kaldi_ark', '--train_data_path_and_name_and_type', 'dump/raw/train_clean_100_sp/text,text,text', '--train_shape_file', 'exp/asr_stats_raw_en_bpe5000_sp/train/speech_shape', '--train_shape_file', 'exp/asr_stats_raw_en_bpe5000_sp/train/text_shape.bpe', '--ngpu', '2', '--multiprocessing_distributed', 'True']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/home3/yuhang001/w2021/anaconda/envs/final_esp/lib/python3.8/runpy.py", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/home3/yuhang001/w2021/anaconda/envs/final_esp/lib/python3.8/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/home3/yuhang001/espnet/espnet2/bin/launch.py", line 385, in <module>
    main()
  File "/home3/yuhang001/espnet/espnet2/bin/launch.py", line 376, in main
    raise RuntimeError(
RuntimeError: 
################### The last 1000 lines of exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log ###################
# --gpu 2 exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic/train.log python3 -m espnet2.bin.asr_train --use_preprocessor true --bpemodel data/en_token_list/bpe_unigram5000/bpe.model --token_type bpe --token_list data/en_token_list/bpe_unigram5000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev/wav.scp,speech,kaldi_ark --valid_data_path_and_name_and_type dump/raw/dev/text,text,text --valid_shape_file exp/asr_stats_raw_en_bpe5000_sp/valid/speech_shape --valid_shape_file exp/asr_stats_raw_en_bpe5000_sp/valid/text_shape.bpe --resume true --init_param --ignore_init_mismatch false --fold_length 80000 --fold_length 150 --output_dir exp/asr_conformer_lr2e-3_warmup15k_amp_nondeterministic --config conf/train_asr.yaml --frontend_conf fs=16k --normalize=global_mvn --normalize_conf stats_file=exp/asr_stats_raw_en_bpe5000_sp/train/feats_stats.npz --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/wav.scp,speech,kaldi_ark --train_data_path_and_name_and_type dump/raw/train_clean_100_sp/text,text,text --train_shape_file exp/asr_stats_raw_en_bpe5000_sp/train/speech_shape --train_shape_file exp/asr_stats_raw_en_bpe5000_sp/train/text_shape.bpe --ngpu 2 --multiprocessing_distributed True 
# Invoked at Sat Mar 26 17:26:35 +08 2022 from node03
#
# Ended (code 256) at Sat Mar 26 17:26:35 +08 2022, elapsed time 0 seconds

